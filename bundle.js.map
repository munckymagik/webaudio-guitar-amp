{"version":3,"file":"bundle.js","sources":["src/modules/Amplifer.js","src/modules/Distortion.js","src/modules/LFO.js","src/modules/SlapBackEcho.js","src/modules/WebAudioNodeWrapper.js","src/modules/Compressor.js","src/signalChain.js","src/sources/BufferSource.js","src/sources/loadSoundFileSource.js","src/shims/getUserMedia.js","src/sources/loadUserMediaSource.js","src/app.js","src/main.js"],"sourcesContent":["class Amplifer {\n  constructor(audioCtx, uiElement) {\n    const self = this;\n\n    this.gain = audioCtx.createGain();\n    this.volumeCtrl = uiElement.querySelector('.js-amplifier-volume');\n\n    self.setValue(self.volumeCtrl.value);\n    this.volumeCtrl.addEventListener('input', () => {\n      self.setValue(self.volumeCtrl.value);\n    });\n  }\n\n  connect(node) {\n    this.gain.connect(node);\n  }\n\n  setValue(gainValue) {\n    this.gain.gain.value = gainValue;\n  }\n\n  input() {\n    return this.gain;\n  }\n}\n\nexport default Amplifer\n","// Taken from: https://developer.mozilla.org/en-US/docs/Web/API/WaveShaperNode\nfunction makeDistortionCurve(amount) {\n  const k = typeof amount === 'number' ? amount : 50;\n  const n_samples = 44100;\n  const curve = new Float32Array(n_samples);\n  const deg = Math.PI / 180;\n  let i = 0;\n  let x;\n\n  for ( ; i < n_samples; ++i ) {\n    x = i * 2 / n_samples - 1;\n    curve[i] = ( 3 + k ) * x * 20 * deg / ( Math.PI + k * Math.abs(x) );\n  }\n\n  return curve;\n}\n\nclass Distortion {\n  constructor(audioCtx, uiElement) {\n    const self = this;\n\n    this.amountCtrl = uiElement.querySelector('.js-distortion-amount');\n    this.toneCtrl = uiElement.querySelector('.js-distortion-tone');\n\n    this.distortion = audioCtx.createWaveShaper();\n    this.distortion.curve = makeDistortionCurve(parseInt(this.amountCtrl.value));\n    this.distortion.oversample = '4x';\n\n    this.lowPass = audioCtx.createBiquadFilter();\n    this.lowPass.type = 'lowpass';\n    this.lowPass.frequency.value = parseInt(this.toneCtrl.value);\n\n    this.distortion.connect(this.lowPass);\n\n    this.amountCtrl.addEventListener('change', () => {\n      self.distortion.curve = makeDistortionCurve(parseInt(self.amountCtrl.value));\n    });\n    this.toneCtrl.addEventListener('input', () => {\n      self.lowPass.frequency.value = parseInt(self.toneCtrl.value);\n    });\n  }\n\n  connect(node) {\n    this.lowPass.connect(node);\n  }\n\n  input() {\n    return this.distortion;\n  }\n}\n\nexport default Distortion\n","function LFO(audioCtx, paramToModulate, uiElement) {\n  const self = this;\n\n  this.speedCtrl = uiElement.querySelector('.js-lfo-speed');\n  this.widthCtrl = uiElement.querySelector('.js-lfo-gain');\n\n  this.lfo = audioCtx.createOscillator();\n  this.lfoGain = audioCtx.createGain();\n\n  this.lfo.frequency.value = this.speedCtrl.value;\n  this.lfoGain.gain.value = this.widthCtrl.value;\n\n  this.lfo.connect(this.lfoGain);\n  this.lfoGain.connect(paramToModulate);\n  this.lfo.connect(paramToModulate);\n\n  this.speedCtrl.addEventListener('input', () => {\n    self.lfo.frequency.value = self.speedCtrl.value;\n  });\n  this.widthCtrl.addEventListener('input', () => {\n    self.lfoGain.gain.value = self.widthCtrl.value;\n  });\n\n  this.lfo.start();\n}\n\nexport default LFO\n","// http://www.html5rocks.com/en/tutorials/casestudies/jamwithchrome-audio/\n\nclass SlapBackEcho {\n  constructor(audioCtx, uiElement) {\n    this._input = audioCtx.createGain();\n    this.output = audioCtx.createGain();\n\n    const self = this, delay = audioCtx.createDelay(), feedback = audioCtx.createGain(), wetLevel = audioCtx.createGain();\n\n    this.uiWetControl = uiElement.querySelector('.js-echo-mix');\n    this.uiFeedbackControl = uiElement.querySelector('.js-echo-feedback');\n    this.uiDelayControl = uiElement.querySelector('.js-echo-delay');\n\n    this._input.gain.value = 1.0;\n    this.output.gain.value = 1.0;\n    delay.delayTime.value = parseFloat(this.uiDelayControl.value);\n    feedback.gain.value = parseFloat(this.uiFeedbackControl.value);\n    wetLevel.gain.value = this.uiWetControl.value;\n\n    this._input.connect(delay);\n    this._input.connect(this.output);\n\n    delay.connect(feedback);\n    delay.connect(wetLevel);\n    feedback.connect(delay);\n    wetLevel.connect(this.output);\n\n    this.uiWetControl.addEventListener('input', () => {\n      wetLevel.gain.value = self.uiWetControl.value;\n    });\n    this.uiFeedbackControl.addEventListener('input', () => {\n      feedback.gain.value = parseFloat(self.uiFeedbackControl.value);\n    });\n    this.uiDelayControl.addEventListener('input', () => {\n      delay.delayTime.value = parseFloat(self.uiDelayControl.value);\n    });\n  }\n\n  connect(node) {\n    this.output.connect(node);\n  }\n\n  setValue(gainValue) {\n    this.gain.gain.value = gainValue;\n  }\n\n  input() {\n    return this._input;\n  }\n}\n\nexport default SlapBackEcho\n","//\n// NodeWrapper (for the sake of a consistent interface when chaining stuff together)\n//\n\nclass WebAudioNodeWrapper {\n  constructor(webaudioNode) {\n    this.node = webaudioNode;\n  }\n\n  connect(node) {\n    this.node.connect(node);\n  }\n\n  input() {\n    return this.node;\n  }\n}\n\nexport default WebAudioNodeWrapper\n","// Based on code from: https://developer.mozilla.org/en-US/docs/Web/API/DynamicsCompressorNode\nfunction makeCompressor(audioCtx) {\n  const compressor = audioCtx.createDynamicsCompressor();\n  compressor.threshold.value = -50;\n  compressor.knee.value = 40;\n  compressor.ratio.value = 12;\n  compressor.attack.value = 0.25;\n  compressor.release.value = 0.25;\n\n  return compressor;\n}\n\nexport default makeCompressor\n","import Amplifer from './modules/Amplifer'\nimport Distortion from './modules/Distortion'\nimport LFO from './modules/LFO'\nimport SlapBackEcho from './modules/SlapBackEcho'\nimport WebAudioNodeWrapper from './modules/WebAudioNodeWrapper'\nimport makeCompressor from './modules/Compressor'\n\nfunction buildSignalChain(audioCtx) {\n  const distortion = new Distortion(audioCtx, document.querySelector(\"[data-module='distortion']\"));\n  const compressor = new WebAudioNodeWrapper(makeCompressor(audioCtx));\n  const echo = new SlapBackEcho(audioCtx, document.querySelector(\"[data-module='echo']\"));\n  const panner = new WebAudioNodeWrapper(audioCtx.createStereoPanner());\n  const lfo = new LFO(audioCtx, panner.input().pan, document.querySelector(\"[data-module='panner']\"));\n  const amplifier = new Amplifer(audioCtx, document.querySelector(\"[data-module='amplifier']\"));\n\n  distortion.connect(compressor.input());\n  compressor.connect(echo.input());\n  echo.connect(panner.input());\n  panner.connect(amplifier.input());\n  amplifier.connect(audioCtx.destination);\n\n  return {\n    distortion,\n    compressor,\n    echo,\n    panner,\n    lfo,\n    amplifier\n  };\n}\n\nexport default buildSignalChain\n","class BufferSource {\n  constructor(audioCtx, buffer, destination) {\n    this.audioCtx = audioCtx;\n    this.buffer = buffer;\n    this.destination = destination;\n    this.source = undefined;\n\n    this.play = this._play.bind(this);\n    this.stop = this._stop.bind(this);\n  }\n\n  _play() {\n    console.log('Playing ...');\n\n    if (this.source !== undefined) {\n      this.stop();\n    }\n\n    this.source = this.audioCtx.createBufferSource();\n    this.source.buffer = this.buffer;\n    this.source.connect(this.destination);\n    this.source.start(0);\n  }\n\n  _stop() {\n    console.log('Stopping.');\n\n    if (this.source === undefined) {\n      return;\n    }\n\n    this.source.stop();\n    this.source.disconnect();\n    this.source = undefined;\n  }\n}\n\nexport default BufferSource\n","import BufferSource from './BufferSource'\n\n// From http://www.html5rocks.com/en/tutorials/webaudio/intro/\nfunction loadSoundFile(context, url) {\n  return new Promise((resolve, fail) => {\n    const request = new XMLHttpRequest();\n    request.open('GET', url, true);\n    request.responseType = 'arraybuffer';\n\n    // Decode asynchronously\n    request.onload = () => {\n      context.decodeAudioData(request.response, resolve, fail);\n    };\n\n    request.send();\n  });\n}\n\nfunction loadSoundFileSource(audioCtx, signalChain) {\n  return loadSoundFile(audioCtx, '/guitar.mp3').then(buffer => {\n    console.log('Loaded OK.');\n    const source = new BufferSource(audioCtx, buffer, signalChain.distortion.input());\n\n    console.log('Enabling play/stop');\n    document.querySelector('.js-play').addEventListener('click', source.play);\n    document.querySelector('.js-stop').addEventListener('click', source.stop);\n\n    return source;\n  });\n}\n\nexport default loadSoundFileSource\n","navigator.getUserMedia = (navigator.getUserMedia ||\n                          navigator.webkitGetUserMedia ||\n                          navigator.mozGetUserMedia ||\n                          navigator.msGetUserMedia);\n","import '../shims/getUserMedia'\n\nfunction loadUserMediaSource(audioCtx, signalChain) {\n  const options = {\n    audio: {\n      optional: [\n        { echoCancellation: false }\n      ]\n    }\n  };\n\n  return new Promise((resolve, fail) => {\n    navigator.getUserMedia(\n      options,\n      stream => {\n        console.log('Loading stream.');\n\n        const source = audioCtx.createMediaStreamSource(stream);\n        source.connect(signalChain.distortion.input());\n\n        resolve(source);\n      },\n      (...args) => {\n        fail(args);\n      }\n    );\n  });\n}\n\nexport default loadUserMediaSource\n","import buildSignalChain from './signalChain'\nimport loadSoundFileSource from './sources/loadSoundFileSource'\nimport loadUserMediaSource from './sources/loadUserMediaSource'\n\nfunction app() {\n  console.log('Starting application.');\n\n  const audioCtx = window.__audioCtx = new AudioContext();\n  const signalChain = window.__signalChain = buildSignalChain(audioCtx);\n\n  window.__soundFilePromise = loadSoundFileSource(audioCtx, signalChain);\n  window.__guitarInputPromise = loadUserMediaSource(audioCtx, signalChain);\n\n  Promise.all([window.__soundFilePromise, window.__guitarInputPromise], (...args) => {\n    console.log('All sources loaded');\n    console.log(args);\n  }).catch(error => {\n    console.log('Error source loading failed', error);\n  });\n};\n\nexport default app\n","import app from './app'\n\nwindow.addEventListener('load', app)\n"],"names":[],"mappings":"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"}